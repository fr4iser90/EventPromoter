{
  "name": "Multi-Platform API Executor - PRE-FORMATTED CONTENT",
  "active": false,
  "nodes": [
    {
      "parameters": {
        "jsCode": "// Structure all platform responses into unified format\nconst result = {\n  success: true,\n  data: {}\n};\n\n// Platform mapping from node names/response patterns\nconst platformPatterns = {\n  'twitter': ['twitter', 'tweet', 'id_str'],\n  'instagram': ['instagram', 'media_id'],\n  'facebook': ['facebook', 'pageId'],\n  'linkedin': ['linkedin', 'urn'],\n  'reddit': ['reddit', 'subreddit', 'name'],\n  'email': ['email', 'recipients', 'messageId']\n};\n\n// Process all incoming items\nfor (const item of $input.all()) {\n  const json = item.json || {};\n  const responseData = json.json || json;\n  \n  // Try to identify platform\n  let platform = null;\n  \n  // Method 1: Check if platform is explicitly set\n  if (json.platform) {\n    platform = json.platform;\n  }\n  // Method 2: Check response data patterns\n  else {\n    for (const [platformName, patterns] of Object.entries(platformPatterns)) {\n      if (patterns.some(pattern => \n        json[pattern] !== undefined || \n        responseData[pattern] !== undefined ||\n        JSON.stringify(json).toLowerCase().includes(pattern) ||\n        JSON.stringify(responseData).toLowerCase().includes(pattern)\n      )) {\n        platform = platformName;\n        break;\n      }\n    }\n  }\n  \n  if (platform) {\n    // Extract response data based on platform\n    const extracted = {\n      success: responseData.success !== false && !responseData.error && responseData.errorCode === undefined,\n      error: responseData.error || responseData.errorMessage || (responseData.success === false ? responseData.message : undefined)\n    };\n    \n    // Platform-specific extraction\n    if (platform === 'twitter') {\n      extracted.postId = responseData.id_str || responseData.id;\n      extracted.url = responseData.url || (extracted.postId ? `https://twitter.com/i/web/status/${extracted.postId}` : undefined);\n    } else if (platform === 'reddit') {\n      extracted.postId = responseData.id || responseData.name?.replace('t3_', '');\n      extracted.url = responseData.url || responseData.permalink || (extracted.postId ? `https://reddit.com${responseData.permalink || ''}` : undefined);\n    } else if (platform === 'email') {\n      extracted.postId = responseData.messageId || responseData.id;\n      // Emails don't have URLs\n    } else if (platform === 'instagram') {\n      extracted.postId = responseData.id || responseData.media_id;\n      extracted.url = responseData.url || (extracted.postId ? `https://instagram.com/p/${extracted.postId}/` : undefined);\n    } else if (platform === 'facebook') {\n      extracted.postId = responseData.id;\n      extracted.url = responseData.url || (extracted.postId ? `https://facebook.com/${extracted.postId}` : undefined);\n    } else if (platform === 'linkedin') {\n      extracted.postId = responseData.id || responseData.urn?.split(':').pop();\n      extracted.url = responseData.url || (extracted.postId ? `https://linkedin.com/feed/update/${extracted.postId}` : undefined);\n    }\n    \n    // Remove undefined fields\n    Object.keys(extracted).forEach(key => {\n      if (extracted[key] === undefined) delete extracted[key];\n    });\n    \n    result.data[platform] = extracted;\n  }\n}\n\n// Check if any platform failed\nconst allSuccess = Object.values(result.data).every(p => p.success !== false);\nresult.success = allSuccess && Object.keys(result.data).length > 0;\n\nreturn result;\n"
      },
      "id": "26fb8d5c-63b7-aa84-4623-a557accaa6df",
      "name": "ğŸ”§ Structure Response",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        17460,
        5080
      ]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ $json }}",
        "options": {}
      },
      "id": "0b96c802-0f57-4ef6-4700-89c6caae9042",
      "name": "âœ… Send Response",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1,
      "position": [
        17760,
        5080
      ]
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "dj-event",
        "responseMode": "responseNode"
      },
      "id": "db1cb1a8-09b5-b190-4903-8a112cff091b",
      "name": "ğŸ“¥ Webhook Trigger (API) - PRE-FORMATTED CONTENT",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [
        13360,
        5080
      ],
      "webhookId": "dj-event-webhook"
    },
    {
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value1": "={{ $json.body?.email && typeof $json.body.email === 'object' }}",
              "value2": true
            }
          ]
        },
        "options": {
          "alwaysOutputData": true
        }
      },
      "id": "669903d2-b36d-5ec7-4d7d-a5fe796e212a",
      "name": "ğŸ“§ Has Email Content?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        14160,
        5680
      ]
    },
    {
      "parameters": {
        "jsCode": "// Prepare email data - extract email from body.email\n// Webhook contract: { body: { email: {...} } }\n// Workflow contract: { email: {...} }\n\nconst input = $input.item.json;\n\n// If-Node verified: $json.body?.email && typeof $json.body.email === 'object'\n// Email is in body.email (webhook structure)\nconst emailData = input.body?.email;\n\nif (!emailData || typeof emailData !== 'object') {\n  throw new Error('Invalid input: email is missing or not an object');\n}\n\n// Normalize to workflow contract: { email: {...} }\nreturn [{\n  json: {\n    email: emailData\n  }\n}];\n"
      },
      "id": "89cd2d89-838d-c243-47ed-b4721026fbac",
      "name": "ğŸ“§ Prepare Email Data",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        14760,
        5680
      ]
    },
    {
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value1": "={{ $json.email.attachments !== undefined && Array.isArray($json.email.attachments) && $json.email.attachments.length > 0 }}",
              "value2": true
            }
          ]
        }
      },
      "id": "d696cb41-2034-01a0-4c3a-aa3db43338d6",
      "name": "ğŸ“ Has Attachments?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        15060,
        5680
      ]
    },
    {
      "parameters": {
        "jsCode": "// Save email data before splitting attachments\nconst input = $input.item.json;\nconst email = input.email;\n\nif (!email) {\n  console.warn('No email data found in input:', Object.keys(input));\n  // Return input as-is to prevent n8n from stopping\n  return [{\n    json: input\n  }];\n}\n\n// Ensure email object has attachments array (even if empty)\nconst emailWithAttachments = {\n  ...email,\n  attachments: email.attachments || []\n};\n\nreturn [{\n  json: {\n    email: emailWithAttachments,\n    emailData: emailWithAttachments // Store for later merge\n  }\n}];\n"
      },
      "id": "f9602cf0-9d3a-ef82-46c2-aa2ecdf988dc",
      "name": "ğŸ’¾ Save Email Data",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        15360,
        5880
      ]
    },
    {
      "parameters": {
        "jsCode": "// Filter attachments based on group rules\n// Supports multiple groups with different attachment rules\n// Also extracts images from HTML and adds them as attachments\nconst item = $input.item;\nconst email = item.json.email || {};\nconst group = email.group || email.recipients?.[0] || 'default';\nconst allAttachments = email.attachments || [];\n\n// Define attachment rules per group\n// 'all' = all attachments, [1,4,6] = specific attachment IDs/indices\nconst attachmentRules = {\n  'vip': [1, 4, 6],\n  'test': 'all',\n  'pa.boe': [1]\n};\n\nconst rule = attachmentRules[group];\nlet filteredAttachments = [];\n\nif (rule === 'all') {\n  // Include all attachments\n  filteredAttachments = allAttachments;\n} else if (Array.isArray(rule)) {\n  // Filter by attachment IDs or indices\n  filteredAttachments = allAttachments.filter((att, index) => {\n    // Support both explicit IDs and index-based (1-based)\n    const attId = att.id || (index + 1);\n    return rule.includes(attId) || rule.includes(index + 1);\n  });\n} else {\n  // No rule found, use all attachments as fallback\n  filteredAttachments = allAttachments;\n}\n\n// Extract images from HTML and add them as attachments\n// Images need to be downloaded and embedded as CID attachments\nconst html = email.html || '';\nconst imageUrls = [];\nconst imageRegex = /<img[^>]+src=[\"']([^\"']+)[\"'][^>]*>/gi;\nlet match;\n\nwhile ((match = imageRegex.exec(html)) !== null) {\n  const imageUrl = match[1];\n  // Only add if it's a URL (not already a CID reference)\n  if (imageUrl && !imageUrl.startsWith('cid:') && !imageUrl.startsWith('data:')) {\n    // Extract filename from URL\n    const urlParts = imageUrl.split('/');\n    const filename = urlParts[urlParts.length - 1].split('?')[0]; // Remove query params\n    \n    // Check if image is already in attachments\n    const isAlreadyAttached = filteredAttachments.some(att => \n      att.url === imageUrl || att.filename === filename\n    );\n    \n    if (!isAlreadyAttached) {\n      imageUrls.push({\n        url: imageUrl,\n        filename: filename,\n        contentType: filename.match(/\\.(jpg|jpeg)$/i) ? 'image/jpeg' : \n                     filename.match(/\\.png$/i) ? 'image/png' : \n                     filename.match(/\\.gif$/i) ? 'image/gif' : 'image/jpeg',\n        _isImage: true // Flag to identify images for CID replacement\n      });\n    }\n  }\n}\n\n// Combine filtered attachments with extracted images\nconst allAttachmentsWithImages = [...filteredAttachments, ...imageUrls];\n\n// No need to embed metadata anymore - Loop node will preserve it\nconst attachmentsWithMetadata = allAttachmentsWithImages;\n\n// Return item with filtered attachments (each containing email metadata)\nreturn [{\n  json: {\n    ...item.json,\n    email: {\n      ...email,\n      attachments: attachmentsWithMetadata,\n      group: group\n    }\n  },\n  binary: item.binary || {}\n}];\n"
      },
      "id": "d33f59b4-0f75-b775-4148-8a6d928c0b96",
      "name": "ğŸ” Filter Attachments per Group",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        15660,
        5880
      ]
    },
    {
      "parameters": {
        "jsCode": "// Loop over attachments and create one item per attachment\n// This replaces the Split Out node - simpler and more reliable\nconst item = $input.item;\nconst email = item.json.email || {};\nconst attachments = email.attachments || [];\n\n// Create one item per attachment with email metadata preserved\nconst items = attachments.map(attachment => ({\n  json: {\n    email: {\n      subject: email.subject,\n      html: email.html,\n      recipients: email.recipients,\n      group: email.group,\n      templateId: email.templateId,\n      templateName: email.templateName\n    },\n    url: attachment.url,\n    filename: attachment.filename,\n    contentType: attachment.contentType,\n    _isImage: attachment._isImage || false\n  },\n  binary: {}\n}));\n\nreturn items;\n"
      },
      "id": "516fc70e-d8b2-1794-4694-a2dd995e378c",
      "name": "ğŸ”„ Loop Attachments",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        15960,
        5880
      ]
    },
    {
      "parameters": {
        "method": "GET",
        "url": "={{ $json.url }}",
        "options": {
          "response": {
            "response": {
              "responseFormat": "file"
            }
          }
        },
        "authentication": "none"
      },
      "id": "247e6ba9-2a7e-e8ce-4a2b-ba9071fb24a6",
      "name": "â¬‡ï¸ Download Attachment",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        16560,
        5880
      ]
    },
    {
      "parameters": {
        "jsCode": "// Merge all attachment items into one item\n// Combines all binary data from multiple items into a single item\n// Binary data will be named: data, data_1, data_2, etc. (n8n default behavior)\n// Also replaces image URLs in HTML with CID references\n// All items have the same email metadata, so we use the first item's metadata\n\nconst items = $input.all();\n\nif (items.length === 0) {\n  return [];\n}\n\n// Use first item's email metadata (all items have the same metadata)\nconst firstItem = items[0];\nconst emailMetadata = firstItem.json.email || {};\nlet html = emailMetadata.html || '';\n\n// Collect all binary data from all items and build filename mapping\n// n8n automatically names them: data, data_1, data_2, etc. when merged\nconst combinedBinary = {};\nconst filenames = new Set(); // Track all filenames for CID replacement\n\nitems.forEach((item, index) => {\n  if (item.binary && item.binary.data) {\n    const binaryKey = index === 0 ? 'data' : `data_${index}`;\n    \n    // Get filename from attachment data\n    const attachmentFilename = item.json.filename || \n                               (item.binary.data.fileName || \n                                item.binary.data.name || \n                                `attachment_${index}`);\n    \n    // Extract base filename (without path/query params)\n    const baseFilename = attachmentFilename.split('/').pop().split('?')[0];\n    \n    // Create new binary object with fileName set (for CID matching)\n    // n8n's Email Send Node matches CID with fileName from binary metadata\n    combinedBinary[binaryKey] = {\n      ...item.binary.data,\n      fileName: baseFilename,  // Set fileName for CID matching\n      name: baseFilename       // Also set name as fallback\n    };\n    \n    if (attachmentFilename) {\n      filenames.add(attachmentFilename);\n    }\n  }\n});\n\n// Replace image URLs in HTML with CID references\n// Strategy: Extract filename from URL and replace with cid:filename\n// This works even if URLs differ (localhost vs IP address)\nfilenames.forEach(filename => {\n  // Extract base filename (without path/query params)\n  const baseFilename = filename.split('/').pop().split('?')[0];\n  \n  // Match any URL containing this filename (works with localhost, IP, etc.)\n  // Pattern: <img src=\".../filename.jpg\" ...>\n  // Replace with: <img src=\"cid:filename.jpg\" ...>\n  const regex = new RegExp(\n    `(<img[^>]+src=[\"'])([^\"']*${baseFilename.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')}[^\"']*)([\"'][^>]*>)`,\n    'gi'\n  );\n  \n  html = html.replace(regex, `$1cid:${baseFilename}$3`);\n});\n\n// Update email metadata with modified HTML\nconst updatedEmailMetadata = {\n  ...emailMetadata,\n  html: html\n};\n\n// Create attachments array for Email Send Node\n// n8n Email Send Node can use binaryProperty OR attachments array\n// We provide both: binary data AND attachments array with binary property names\nconst attachmentKeys = Object.keys(combinedBinary).filter(k => k.startsWith('data'));\nconst attachmentsArray = attachmentKeys.map(key => {\n  const binary = combinedBinary[key];\n  return {\n    binaryProperty: key,\n    fileName: binary.fileName || binary.name || `attachment_${key}`\n  };\n});\n\n// Return single item with all binaries, updated HTML, and attachments array\nreturn [{\n  json: {\n    email: updatedEmailMetadata,\n    // Provide attachments array for Email Send Node\n    _attachments: attachmentsArray\n  },\n  binary: combinedBinary\n}];\n"
      },
      "id": "35cafa04-152e-da45-4e47-82339dc8f457",
      "name": "ğŸ”— Merge Attachments",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        16860,
        5880
      ]
    },
    {
      "parameters": {
        "fromEmail": "noreply@eventpromoter.com",
        "toEmail": "={{ $json.email.recipients || $json.email.group || 'user@example.com' }}",
        "subject": "={{ $json.email.subject }}",
        "html": "={{ $json.email.html }}",
        "attachments": "",
        "options": {
          "attachments": {
            "binaryProperty": {
              "__expression": "={{ Object.keys($binary).filter(k => k.startsWith('data')).join(',') || 'data' }}"
            }
          }
        }
      },
      "id": "759aad6f-89e1-c521-4728-9c3c10aa5117",
      "name": "ğŸ“§ Send Email",
      "type": "n8n-nodes-base.emailSend",
      "typeVersion": 2.1,
      "position": [
        17160,
        5880
      ]
    },
    {
      "parameters": {
        "fromEmail": "noreply@eventpromoter.com",
        "toEmail": "={{ $json.email.recipients || 'user@example.com' }}",
        "subject": "={{ $json.email.subject }}",
        "html": "={{ $json.email.html }}"
      },
      "id": "1bd6f8b7-c442-b4f7-4178-8be07cd237ad",
      "name": "ğŸ“§ Send Email (No Attachments)",
      "type": "n8n-nodes-base.emailSend",
      "typeVersion": 2.1,
      "position": [
        15360,
        5940
      ]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callbackUrl || $json.metadata?.callbackUrl || 'http://localhost:3001/api/publish/event' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ { sessionId: $json.sessionId || $json.metadata?.sessionId || $json.metadata?.eventData?.sessionId, publishRunId: $json.publishRunId || $json.metadata?.publishRunId || $json.metadata?.eventData?.publishRunId, type: 'step_started', platform: 'email', method: 'n8n', step: 'publish.submit', message: 'Starting publish.submit via n8n', timestamp: $now.toISO() } }}",
        "options": {}
      },
      "id": "40f4db56-ae41-91b4-4b94-8356fccb17f6",
      "name": "ğŸ“¡ Emit Email Started",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        300,
        540
      ]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callbackUrl || $json.metadata?.callbackUrl || 'http://localhost:3001/api/publish/event' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ { sessionId: $json.sessionId || $json.metadata?.sessionId || $json.metadata?.eventData?.sessionId, publishRunId: $json.publishRunId || $json.metadata?.publishRunId || $json.metadata?.eventData?.publishRunId, type: 'step_completed', platform: 'email', method: 'n8n', step: 'publish.submit', duration: 0, data: { messageId: $json.messageId || $json.id }, timestamp: $now.toISO() } }}",
        "options": {}
      },
      "id": "666afd48-929d-daa5-4f7a-83d5b1702571",
      "name": "âœ… Emit Email Completed",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1960,
        600
      ]
    },
    {
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value1": "={{ $json.facebook !== undefined }}",
              "value2": true
            }
          ]
        }
      },
      "id": "2b3674c3-9ad8-5f3b-4b8a-8844a4829632",
      "name": "ğŸ‘¥ Has Facebook Content?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        14160,
        5280
      ]
    },
    {
      "parameters": {
        "resource": "post",
        "message": "={{ $json.facebook.text }}",
        "additionalFields": {}
      },
      "id": "bc4d5d06-12ab-45fd-4c7d-81ec0d2322db",
      "name": "ğŸ‘¥ Post to Facebook Page",
      "type": "n8n-nodes-base.facebook",
      "typeVersion": 2.1,
      "position": [
        14460,
        5280
      ]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callbackUrl || $json.metadata?.callbackUrl || 'http://localhost:3001/api/publish/event' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ { sessionId: $json.sessionId || $json.metadata?.sessionId || $json.metadata?.eventData?.sessionId, publishRunId: $json.publishRunId || $json.metadata?.publishRunId || $json.metadata?.eventData?.publishRunId, type: 'step_started', platform: 'facebook', method: 'n8n', step: 'publish.submit', message: 'Starting publish.submit via n8n', timestamp: $now.toISO() } }}",
        "options": {}
      },
      "id": "213bb1af-8a1f-5882-4d86-9f8045b34861",
      "name": "ğŸ“¡ Emit Facebook Started",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        300,
        140
      ]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callbackUrl || $json.metadata?.callbackUrl || 'http://localhost:3001/api/publish/event' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ { sessionId: $json.sessionId || $json.metadata?.sessionId || $json.metadata?.eventData?.sessionId, publishRunId: $json.publishRunId || $json.metadata?.publishRunId || $json.metadata?.eventData?.publishRunId, type: 'step_completed', platform: 'facebook', method: 'n8n', step: 'publish.submit', duration: 0, data: { postId: $json.id || $json.post_id, url: $json.url || $json.link }, timestamp: $now.toISO() } }}",
        "options": {}
      },
      "id": "b4eccbc7-2518-d04c-4d6d-8fa887db9997",
      "name": "âœ… Emit Facebook Completed",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        520,
        200
      ]
    },
    {
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value1": "={{ $json.instagram !== undefined }}",
              "value2": true
            }
          ]
        }
      },
      "id": "780e148d-85b9-639f-4d15-836c6d558325",
      "name": "ğŸ“¸ Has Instagram Content?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        14160,
        5080
      ]
    },
    {
      "parameters": {
        "operation": "createPost",
        "additionalFields": {}
      },
      "id": "0088e969-08ca-7f61-457e-9b96c9b9ae29",
      "name": "ğŸ“¸ Post to Instagram",
      "type": "n8n-nodes-base.instagram",
      "typeVersion": 1,
      "position": [
        14460,
        5080
      ]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callbackUrl || $json.metadata?.callbackUrl || 'http://localhost:3001/api/publish/event' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ { sessionId: $json.sessionId || $json.metadata?.sessionId || $json.metadata?.eventData?.sessionId, publishRunId: $json.publishRunId || $json.metadata?.publishRunId || $json.metadata?.eventData?.publishRunId, type: 'step_started', platform: 'instagram', method: 'n8n', step: 'publish.submit', message: 'Starting publish.submit via n8n', timestamp: $now.toISO() } }}",
        "options": {}
      },
      "id": "0a067862-5da1-34da-44be-90f9e44864ac",
      "name": "ğŸ“¡ Emit Instagram Started",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        300,
        -60
      ]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callbackUrl || $json.metadata?.callbackUrl || 'http://localhost:3001/api/publish/event' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ { sessionId: $json.sessionId || $json.metadata?.sessionId || $json.metadata?.eventData?.sessionId, publishRunId: $json.publishRunId || $json.metadata?.publishRunId || $json.metadata?.eventData?.publishRunId, type: 'step_completed', platform: 'instagram', method: 'n8n', step: 'publish.submit', duration: 0, data: { postId: $json.id || $json.media_id, url: $json.url || $json.permalink }, timestamp: $now.toISO() } }}",
        "options": {}
      },
      "id": "3f18bc9b-4b5f-d6ce-4b02-9ae37b80cb65",
      "name": "âœ… Emit Instagram Completed",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        520,
        0
      ]
    },
    {
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value1": "={{ $json.linkedin !== undefined }}",
              "value2": true
            }
          ]
        }
      },
      "id": "fc65904b-3706-7780-4226-b3416b384a85",
      "name": "ğŸ’¼ Has LinkedIn Content?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        14160,
        5480
      ]
    },
    {
      "parameters": {
        "additionalFields": {}
      },
      "id": "f9b38ec4-95d1-2ef2-4fa3-90e70845597a",
      "name": "ğŸ’¼ Post to LinkedIn",
      "type": "n8n-nodes-base.linkedIn",
      "typeVersion": 1,
      "position": [
        14460,
        5480
      ]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callbackUrl || $json.metadata?.callbackUrl || 'http://localhost:3001/api/publish/event' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ { sessionId: $json.sessionId || $json.metadata?.sessionId || $json.metadata?.eventData?.sessionId, publishRunId: $json.publishRunId || $json.metadata?.publishRunId || $json.metadata?.eventData?.publishRunId, type: 'step_started', platform: 'linkedin', method: 'n8n', step: 'publish.submit', message: 'Starting publish.submit via n8n', timestamp: $now.toISO() } }}",
        "options": {}
      },
      "id": "9a10eba5-7de4-7be6-4b99-93cec29a2106",
      "name": "ğŸ“¡ Emit LinkedIn Started",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        300,
        340
      ]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callbackUrl || $json.metadata?.callbackUrl || 'http://localhost:3001/api/publish/event' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ { sessionId: $json.sessionId || $json.metadata?.sessionId || $json.metadata?.eventData?.sessionId, publishRunId: $json.publishRunId || $json.metadata?.publishRunId || $json.metadata?.eventData?.publishRunId, type: 'step_completed', platform: 'linkedin', method: 'n8n', step: 'publish.submit', duration: 0, data: { postId: $json.id || $json.postId, url: $json.url || $json.permalink }, timestamp: $now.toISO() } }}",
        "options": {}
      },
      "id": "70aa19f8-f871-23e1-4e56-b004b36fddef",
      "name": "âœ… Emit LinkedIn Completed",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        520,
        400
      ]
    },
    {
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value1": "={{ $json.reddit !== undefined }}",
              "value2": true
            }
          ]
        }
      },
      "id": "a4723b69-5eea-653b-4de3-834ea019da1d",
      "name": "ğŸ”´ Has Reddit Content?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        14160,
        6080
      ]
    },
    {
      "parameters": {
        "resource": "post",
        "subreddit": "={{ $json.reddit.subreddit }}",
        "title": "={{ $json.reddit.title }}",
        "text": "={{ $json.reddit.text }}",
        "additionalFields": {}
      },
      "id": "ebab7789-9a78-84d0-4746-823b1570e99c",
      "name": "ğŸ”´ Post to Reddit",
      "type": "n8n-nodes-base.reddit",
      "typeVersion": 1,
      "position": [
        14460,
        6080
      ]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callbackUrl || $json.metadata?.callbackUrl || 'http://localhost:3001/api/publish/event' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ { sessionId: $json.sessionId || $json.metadata?.sessionId || $json.metadata?.eventData?.sessionId, publishRunId: $json.publishRunId || $json.metadata?.publishRunId || $json.metadata?.eventData?.publishRunId, type: 'step_started', platform: 'reddit', method: 'n8n', step: 'publish.submit', message: 'Starting publish.submit via n8n', timestamp: $now.toISO() } }}",
        "options": {}
      },
      "id": "4c2e410d-3ef9-821d-4da3-822e2599969e",
      "name": "ğŸ“¡ Emit Reddit Started",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        300,
        740
      ]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callbackUrl || $json.metadata?.callbackUrl || 'http://localhost:3001/api/publish/event' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ { sessionId: $json.sessionId || $json.metadata?.sessionId || $json.metadata?.eventData?.sessionId, publishRunId: $json.publishRunId || $json.metadata?.publishRunId || $json.metadata?.eventData?.publishRunId, type: 'step_completed', platform: 'reddit', method: 'n8n', step: 'publish.submit', duration: 0, data: { postId: $json.id || $json.name, url: $json.url || $json.permalink }, timestamp: $now.toISO() } }}",
        "options": {}
      },
      "id": "df621140-b83a-a6b2-4c69-b8ebf8e161ef",
      "name": "âœ… Emit Reddit Completed",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        520,
        800
      ]
    },
    {
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value1": "={{ $json.twitter !== undefined }}",
              "value2": true
            }
          ]
        }
      },
      "id": "9b235081-7c85-c87b-4929-becf7057566d",
      "name": "ğŸ¦ Has Twitter Content?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        14160,
        4880
      ]
    },
    {
      "parameters": {
        "resource": "tweet",
        "text": "={{ $json.twitter.text }}",
        "additionalFields": {}
      },
      "id": "2c3fe310-333f-277b-4f32-ab8676d78d8b",
      "name": "ğŸ¦ Post to Twitter/X",
      "type": "n8n-nodes-base.twitter",
      "typeVersion": 2,
      "position": [
        14460,
        4880
      ]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callbackUrl || $json.metadata?.callbackUrl || 'http://localhost:3001/api/publish/event' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ { sessionId: $json.sessionId || $json.metadata?.sessionId || $json.metadata?.eventData?.sessionId, publishRunId: $json.publishRunId || $json.metadata?.publishRunId || $json.metadata?.eventData?.publishRunId, type: 'step_started', platform: 'twitter', method: 'n8n', step: 'publish.submit', message: 'Starting publish.submit via n8n', timestamp: $now.toISO() } }}",
        "options": {}
      },
      "id": "831d33fb-b923-f9a2-48b4-9410d5c5ffaf",
      "name": "ğŸ“¡ Emit Twitter Started",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        300,
        -260
      ]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callbackUrl || $json.metadata?.callbackUrl || 'http://localhost:3001/api/publish/event' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ { sessionId: $json.sessionId || $json.metadata?.sessionId || $json.metadata?.eventData?.sessionId, publishRunId: $json.publishRunId || $json.metadata?.publishRunId || $json.metadata?.eventData?.publishRunId, type: 'step_completed', platform: 'twitter', method: 'n8n', step: 'publish.submit', duration: 0, data: { postId: $json.id || $json.data?.id, url: $json.url || $json.link }, timestamp: $now.toISO() } }}",
        "options": {}
      },
      "id": "95457adb-192d-63ef-4e0f-88b52716d369",
      "name": "âœ… Emit Twitter Completed",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        520,
        -200
      ]
    },
    {
      "parameters": {
        "content": "# ğŸš€ Multi-Platform Social Media & Email Publisher\n\n**EN:** This workflow publishes DJ events (or any events) to multiple social media platforms and sends emails simultaneously.\n\n**DE:** Dieser Workflow verÃ¶ffentlicht DJ-Events (oder beliebige Events) auf mehreren Social-Media-Plattformen und sendet gleichzeitig E-Mails.\n\n## ğŸ“‹ Supported Platforms / UnterstÃ¼tzte Plattformen\n\n- ğŸ¦ **Twitter/X** - Text + Images\n- ğŸ“· **Instagram** - Images + Captions\n- ğŸ‘¤ **Facebook** - Posts + Images\n- ğŸ’¼ **LinkedIn** - Professional Posts\n- ğŸ”´ **Reddit** - Subreddit Posts with Flairs\n- ğŸ“§ **Email** - HTML + Plain Text\n\n## âš™ï¸ How to Use / Verwendung\n\n1. **Configure Credentials** - See panels below for each platform\n2. **Send POST request** to webhook with event data\n3. **Enable/Disable platforms** via `publishTo` object\n\n## ğŸ“ Input Format\n\nSee \"ğŸ“¥ Input Format\" panel below for complete example.\n\n---\n\n*(Doppelklick zum Bearbeiten | [n8n Sticky Notes Guide](https://docs.n8n.io/workflows/sticky-notes/))*\n",
        "height": 900,
        "width": 800,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        14240,
        3820
      ],
      "id": "overview",
      "name": "ğŸ“‹ Overview"
    },
    {
      "parameters": {
        "content": "# ğŸ“¥ Input Format / Eingabeformat\n\n## Required Fields / Pflichtfelder\n\n```json\n{\n  \"eventTitle\": \"DJ Night @ Club XYZ\",\n  \"eventDate\": \"2025-05-15\",\n  \"venue\": \"Club XYZ\",\n  \"city\": \"Berlin\"\n}\n```\n\n## Complete Example / VollstÃ¤ndiges Beispiel\n\n```json\n{\n  \"eventTitle\": \"Techno Night @ Berghain\",\n  \"eventDate\": \"2025-05-15\",\n  \"eventTime\": \"23:00\",\n  \"venue\": \"Berghain\",\n  \"city\": \"Berlin\",\n  \"description\": \"Join us for an unforgettable night!\",\n  \"imageUrl\": \"https://example.com/image.jpg\",\n  \"ticketUrl\": \"https://tickets.example.com\",\n  \"publishTo\": {\n    \"twitter\": true,\n    \"instagram\": true,\n    \"facebook\": true,\n    \"linkedin\": false,\n    \"reddit\": true,\n    \"email\": true\n  },\n  \"emailRecipients\": [\"fan@example.com\"],\n  \"redditSubreddit\": \"DJs\",\n  \"redditFlair\": \"Event\",\n  \"redditNsfw\": false,\n  \"redditSpoiler\": false\n}\n```\n\n---\n\n*(Doppelklick zum Bearbeiten)*\n",
        "height": 900,
        "width": 600,
        "color": 1
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        12920,
        3820
      ],
      "id": "input-format",
      "name": "ğŸ“¥ Input Format"
    },
    {
      "parameters": {
        "content": "# ğŸ” Credentials Setup / Credentials einrichten\n\n## âš ï¸ WICHTIG: Separate Credentials!\n\n**Jede Plattform benÃ¶tigt EIGENE Credentials!**\n\n## Checklist / Checkliste\n\n- [ ] **Twitter/X**: `TWITTER_CREDENTIALS_ID`\n- [ ] **Instagram**: `INSTAGRAM_CREDENTIALS_ID`\n- [ ] **Facebook**: `FACEBOOK_CREDENTIALS_ID`\n- [ ] **LinkedIn**: `LINKEDIN_CREDENTIALS_ID`\n- [ ] **Reddit**: `REDDIT_CREDENTIALS_ID`\n- [ ] **Email**: `SMTP_CREDENTIALS_ID`\n\n## ğŸ“š Detailed Instructions\n\nSee individual credential panels below for each platform.\n\nSiehe einzelne Credential-Panels unten fÃ¼r jede Plattform.\n\n---\n\n*(Doppelklick zum Bearbeiten)*\n",
        "height": 900,
        "width": 600,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        14240,
        3820
      ],
      "id": "credentials-overview",
      "name": "ğŸ” Credentials Overview"
    },
    {
      "parameters": {
        "content": "# ğŸ¦ Twitter/X Credentials\n\n## CREDENTIALS REQUIRED / CREDENTIALS ERFORDERLICH\n\n1. Go to: **https://developer.twitter.com/**\n2. Create App â†’ **API Keys & Tokens**\n3. You need:\n   - **API Key** (Consumer Key)\n   - **API Secret** (Consumer Secret)\n   - **Access Token**\n   - **Access Token Secret**\n\n## In n8n:\n\n1. **Settings** â†’ **Credentials** â†’ **Add Credential**\n2. Select **Twitter OAuth1 API**\n3. Enter all 4 values\n4. Assign to node: **ğŸ¦ Post to Twitter/X**\n\n---\n\n**Credential ID:** `TWITTER_CREDENTIALS_ID`\n\n*(Doppelklick zum Bearbeiten)*\n",
        "height": 690,
        "width": 500,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        17140,
        4220
      ],
      "id": "twitter-credentials",
      "name": "ğŸ¦ Twitter Credentials"
    },
    {
      "parameters": {
        "content": "# ğŸ“· Instagram Credentials\n\n## CREDENTIALS REQUIRED / CREDENTIALS ERFORDERLICH\n\nâš ï¸ **Requires Facebook Business Account**\n\n1. Go to: **https://developers.facebook.com/**\n2. Create **Meta App** (Type: **Business**)\n3. Add **Instagram Graph API** product\n4. You need:\n   - **App ID**\n   - **App Secret**\n   - **Access Token** (with permissions)\n\n## In n8n:\n\n1. **Settings** â†’ **Credentials** â†’ **Add Credential**\n2. Select **Instagram OAuth2 API**\n3. Enter credentials\n4. Assign to node: **ğŸ“· Post to Instagram**\n\n---\n\n**Credential ID:** `INSTAGRAM_CREDENTIALS_ID`\n\n*(Doppelklick zum Bearbeiten)*\n",
        "height": 690,
        "width": 500,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        17700,
        4220
      ],
      "id": "instagram-credentials",
      "name": "ğŸ“· Instagram Credentials"
    },
    {
      "parameters": {
        "content": "# ğŸ‘¤ Facebook Credentials\n\n## CREDENTIALS REQUIRED / CREDENTIALS ERFORDERLICH\n\n1. Go to: **https://developers.facebook.com/**\n2. Create **Meta App** (Type: **Business**)\n3. Add **Facebook Login** product\n4. You need:\n   - **App ID**\n   - **App Secret**\n   - **Page Access Token** (with `pages_manage_posts`)\n   - **Page ID** (set as env var `FACEBOOK_PAGE_ID`)\n\n## In n8n:\n\n1. **Settings** â†’ **Credentials** â†’ **Add Credential**\n2. Select **Facebook OAuth2 API**\n3. Enter credentials\n4. Set env var: `FACEBOOK_PAGE_ID=your_page_id`\n5. Assign to node: **ğŸ‘¤ Post to Facebook Page**\n\n---\n\n**Credential ID:** `FACEBOOK_CREDENTIALS_ID`\n\n*(Doppelklick zum Bearbeiten)*\n",
        "height": 680,
        "width": 500,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        18260,
        4220
      ],
      "id": "facebook-credentials",
      "name": "ğŸ‘¤ Facebook Credentials"
    },
    {
      "parameters": {
        "content": "# ğŸ’¼ LinkedIn Credentials\n\n## CREDENTIALS REQUIRED / CREDENTIALS ERFORDERLICH\n\n1. Go to: **https://www.linkedin.com/developers/apps**\n2. Create new app\n3. You need:\n   - **Client ID**\n   - **Client Secret**\n4. Configure **OAuth Redirect URL**:\n   `https://your-n8n-instance.com/rest/oauth2-credential/callback`\n5. Request permissions: `w_member_social`, `w_organization_social`\n\n## In n8n:\n\n1. **Settings** â†’ **Credentials** â†’ **Add Credential**\n2. Select **LinkedIn OAuth2 API**\n3. Enter Client ID and Secret\n4. Complete OAuth flow\n5. Assign to node: **ğŸ’¼ Post to LinkedIn**\n\n---\n\n**Credential ID:** `LINKEDIN_CREDENTIALS_ID`\n\n*(Doppelklick zum Bearbeiten)*\n",
        "height": 700,
        "width": 500,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        16580,
        4220
      ],
      "id": "linkedin-credentials",
      "name": "ğŸ’¼ LinkedIn Credentials"
    },
    {
      "parameters": {
        "content": "# ğŸ”´ Reddit Credentials\n\n## CREDENTIALS REQUIRED / CREDENTIALS ERFORDERLICH\n\n1. Go to: **https://www.reddit.com/prefs/apps**\n2. Click **\"create app\"**\n3. Fill in:\n   - **Name**: Your app name\n   - **App type**: **\"script\"**\n   - **Redirect URI**: `http://localhost:8080`\n4. Note:\n   - **Client ID** (under app name)\n   - **Client Secret** (only shown once!)\n5. Get OAuth Token:\n   - Use: https://not-an-aardvark.github.io/reddit-oauth-helper/\n   - Token format: `Bearer YOUR_ACCESS_TOKEN`\n\n## In n8n:\n\n1. **Settings** â†’ **Credentials** â†’ **Add Credential**\n2. Select **HTTP Header Auth**\n3. Configure:\n   - **Name**: `Authorization`\n   - **Value**: `Bearer YOUR_ACCESS_TOKEN`\n4. Assign to node: **ğŸ”´ Post to Reddit**\n\n---\n\n**Credential ID:** `REDDIT_CREDENTIALS_ID`\n\n**Reddit Fields:**\n- `redditSubreddit`: Required (e.g., \"DJs\")\n- `redditFlair`: Optional\n- `redditNsfw`: true/false\n- `redditSpoiler`: true/false\n\n*(Doppelklick zum Bearbeiten)*\n",
        "height": 960,
        "width": 500,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        18820,
        4220
      ],
      "id": "reddit-credentials",
      "name": "ğŸ”´ Reddit Credentials"
    },
    {
      "parameters": {
        "content": "# ğŸ“§ Email (SMTP) Credentials\n\n## CREDENTIALS REQUIRED / CREDENTIALS ERFORDERLICH\n\n### Gmail:\n1. Enable **2-Factor Authentication**\n2. Go to: **https://myaccount.google.com/apppasswords**\n3. Generate **App Password** for \"Mail\"\n4. Use this password (not your regular password)\n\n### SMTP Settings:\n- **Host**: `smtp.gmail.com`\n- **Port**: `587` (TLS) or `465` (SSL)\n- **User**: your-email@gmail.com\n- **Password**: App Password (for Gmail)\n\n## In n8n:\n\n1. **Settings** â†’ **Credentials** â†’ **Add Credential**\n2. Select **SMTP**\n3. Enter SMTP settings\n4. Optional: Set `EMAIL_FROM` env var\n5. Assign to node: **ğŸ“§ Send Email**\n\n---\n\n**Credential ID:** `SMTP_CREDENTIALS_ID`\n\n**Other Providers:**\n- Outlook: `smtp.office365.com`\n- Custom: Use your provider's SMTP settings\n\n*(Doppelklick zum Bearbeiten)*\n",
        "height": 870,
        "width": 500,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        17140,
        4960
      ],
      "id": "email-credentials",
      "name": "ğŸ“§ Email Credentials"
    },
    {
      "parameters": {
        "content": "# ğŸ“¢ Discord & Telegram Notifications\n\n## Discord Webhook Setup\n\n1. **Go to your Discord server**\n2. **Right-click on a channel** â†’ **Edit Channel** â†’ **Integrations** â†’ **Webhooks**\n3. **Create new Webhook** with a name (e.g., \"n8n-workflow\")\n4. **Copy the Webhook URL**\n\n## In n8n Environment Variables:\n```bash\nDISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN\n```\n\n## Telegram Bot Setup\n\n1. **Message @BotFather** on Telegram\n2. **Send:** `/newbot`\n3. **Follow instructions** to create your bot\n4. **Get your Bot Token** from BotFather\n\n## In n8n Environment Variables:\n```bash\nTELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz\nTELEGRAM_CHAT_ID=123456789\n```\n\n### How to get Chat ID:\n1. **Message your bot** with any text\n2. **Visit:** `https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates`\n3. **Find your chat ID** in the response\n\n## Features:\n- âœ… **Rich Discord embeds** with colors and formatting\n- âœ… **HTML Telegram messages** with markup\n- âœ… **Success/Failure indicators** with colors\n- âœ… **Performance metrics** included\n- âœ… **Automatic fallbacks** to console logging\n\n## Example Notification:\n\n**Discord:** Rich embed with event details, success rates, and timing\n**Telegram:** Formatted message with HTML markup and statistics\n\n---\n\n*(Doppelklick zum Bearbeiten)*\n",
        "height": 1300,
        "width": 700,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        17700,
        4960
      ],
      "id": "discord-telegram-setup",
      "name": "ğŸ“¢ Discord & Telegram Setup"
    }
  ],
  "connections": {
    "ğŸ“¥ Webhook Trigger (API) - PRE-FORMATTED CONTENT": {
      "main": [
        [
          {
            "node": "ğŸ¦ Has Twitter Content?",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ“¸ Has Instagram Content?",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ‘¥ Has Facebook Content?",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ’¼ Has LinkedIn Content?",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ“§ Has Email Content?",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ”´ Has Reddit Content?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ¦ Has Twitter Content?": {
      "main": [
        [
          {
            "node": "ğŸ“¡ Emit Twitter Started",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“¡ Emit Twitter Started": {
      "main": [
        [
          {
            "node": "ğŸ¦ Post to Twitter/X",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ¦ Post to Twitter/X": {
      "main": [
        [
          {
            "node": "âœ… Emit Twitter Completed",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âœ… Emit Twitter Completed": {
      "main": [
        [
          {
            "node": "ğŸ”§ Structure Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“¸ Has Instagram Content?": {
      "main": [
        [
          {
            "node": "ğŸ“¡ Emit Instagram Started",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“¡ Emit Instagram Started": {
      "main": [
        [
          {
            "node": "ğŸ“¸ Post to Instagram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“¸ Post to Instagram": {
      "main": [
        [
          {
            "node": "âœ… Emit Instagram Completed",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âœ… Emit Instagram Completed": {
      "main": [
        [
          {
            "node": "ğŸ”§ Structure Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ‘¥ Has Facebook Content?": {
      "main": [
        [
          {
            "node": "ğŸ“¡ Emit Facebook Started",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“¡ Emit Facebook Started": {
      "main": [
        [
          {
            "node": "ğŸ‘¥ Post to Facebook Page",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ‘¥ Post to Facebook Page": {
      "main": [
        [
          {
            "node": "âœ… Emit Facebook Completed",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âœ… Emit Facebook Completed": {
      "main": [
        [
          {
            "node": "ğŸ”§ Structure Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ’¼ Has LinkedIn Content?": {
      "main": [
        [
          {
            "node": "ğŸ“¡ Emit LinkedIn Started",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“¡ Emit LinkedIn Started": {
      "main": [
        [
          {
            "node": "ğŸ’¼ Post to LinkedIn",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ’¼ Post to LinkedIn": {
      "main": [
        [
          {
            "node": "âœ… Emit LinkedIn Completed",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âœ… Emit LinkedIn Completed": {
      "main": [
        [
          {
            "node": "ğŸ”§ Structure Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“§ Has Email Content?": {
      "main": [
        [
          {
            "node": "ğŸ“¡ Emit Email Started",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“¡ Emit Email Started": {
      "main": [
        [
          {
            "node": "ğŸ“§ Prepare Email Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“§ Prepare Email Data": {
      "main": [
        [
          {
            "node": "ğŸ“ Has Attachments?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“ Has Attachments?": {
      "main": [
        [
          {
            "node": "ğŸ’¾ Save Email Data",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ“§ Send Email (No Attachments)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ’¾ Save Email Data": {
      "main": [
        [
          {
            "node": "ğŸ” Filter Attachments per Group",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ” Filter Attachments per Group": {
      "main": [
        [
          {
            "node": "ğŸ”„ Loop Attachments",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”„ Loop Attachments": {
      "main": [
        [
          {
            "node": "â¬‡ï¸ Download Attachment",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "â¬‡ï¸ Download Attachment": {
      "main": [
        [
          {
            "node": "ğŸ”— Merge Attachments",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”— Merge Attachments": {
      "main": [
        [
          {
            "node": "ğŸ“§ Send Email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“§ Send Email": {
      "main": [
        [
          {
            "node": "âœ… Emit Email Completed",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“§ Send Email (No Attachments)": {
      "main": [
        [
          {
            "node": "âœ… Emit Email Completed",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âœ… Emit Email Completed": {
      "main": [
        [
          {
            "node": "ğŸ”§ Structure Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”´ Has Reddit Content?": {
      "main": [
        [
          {
            "node": "ğŸ“¡ Emit Reddit Started",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“¡ Emit Reddit Started": {
      "main": [
        [
          {
            "node": "ğŸ”´ Post to Reddit",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”´ Post to Reddit": {
      "main": [
        [
          {
            "node": "âœ… Emit Reddit Completed",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âœ… Emit Reddit Completed": {
      "main": [
        [
          {
            "node": "ğŸ”§ Structure Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”§ Structure Response": {
      "main": [
        [
          {
            "node": "âœ… Send Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "meta": {
    "instanceId": "7302af2d76ff11fa25dfe4c4b676102587b05b140a7ac12e86e85bb8179e9e38"
  }
}